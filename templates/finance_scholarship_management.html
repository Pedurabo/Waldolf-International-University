<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scholarship Management - Waldorf Colleges & Universities</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: #e2e8f0;
        }

        .header {
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(120, 119, 198, 0.3);
            padding: 20px 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5em;
            background: linear-gradient(135deg, #00d4ff, #5b73ff, #9c27ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text h1 {
            color: #e2e8f0;
            font-size: 1.5em;
            font-weight: 700;
        }

        .back-btn {
            background: linear-gradient(135deg, #64748b, #475569);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: linear-gradient(135deg, #475569, #334155);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .page-header {
            background: rgba(15, 15, 35, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .page-title {
            font-size: 2.5em;
            background: linear-gradient(135deg, #00d4ff, #5b73ff, #9c27ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(15, 15, 35, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 212, 255, 0.6);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }

        .stat-value {
            font-size: 2.2em;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 8px;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9em;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background: rgba(15, 15, 35, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .dashboard-card.full-width {
            grid-column: 1 / -1;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.3em;
            color: #00d4ff;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .scholarship-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: rgba(30, 30, 60, 0.3);
            border-radius: 8px;
            overflow: hidden;
        }

        .scholarship-table th {
            background: rgba(30, 30, 60, 0.8);
            color: #00d4ff;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 1px solid rgba(120, 119, 198, 0.3);
        }

        .scholarship-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(120, 119, 198, 0.2);
        }

        .scholarship-table tr:hover {
            background: rgba(30, 30, 60, 0.6);
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00d4ff, #5b73ff);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #16a085, #27ae60);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .status-active { background: #16a085; color: white; }
        .status-pending { background: #f39c12; color: white; }
        .status-closed { background: #e74c3c; color: white; }

        .search-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-input, .filter-select {
            padding: 10px 15px;
            border: 2px solid rgba(120, 119, 198, 0.3);
            border-radius: 8px;
            background: rgba(15, 15, 35, 0.8);
            color: #e2e8f0;
            font-size: 14px;
        }

        .search-input:focus, .filter-select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn-large {
            padding: 12px 24px;
            font-size: 14px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(120, 119, 198, 0.3);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #16a085, #27ae60);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .recipient-card {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .clickable-recipient {
            cursor: pointer;
        }

        .clickable-recipient:hover {
            border-color: rgba(0, 212, 255, 0.6);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.2);
            background: rgba(30, 30, 60, 0.6);
        }

        .recipient-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .recipient-name {
            font-weight: 600;
            color: #e2e8f0;
            font-size: 1.1em;
        }

        .recipient-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 0.9em;
            color: #94a3b8;
        }

        @media (max-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .search-controls {
                flex-direction: column;
            }
            
            .page-title {
                font-size: 2em;
            }
        }

        /* Enhanced Modal Styles for Main Functions */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            margin: 2% auto;
            padding: 0;
            border: 2px solid rgba(120, 119, 198, 0.3);
            border-radius: 15px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 212, 255, 0.3);
        }

        .modal-header {
            background: rgba(15, 15, 35, 0.9);
            padding: 25px 30px;
            border-bottom: 2px solid rgba(120, 119, 198, 0.3);
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.8em;
            background: linear-gradient(135deg, #00d4ff, #5b73ff, #9c27ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .close {
            color: #94a3b8;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close:hover {
            color: #e74c3c;
            transform: scale(1.1);
        }

        .modal-body {
            padding: 30px;
            color: #e2e8f0;
        }

        .modal-section {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.3em;
            color: #00d4ff;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .application-card {
            background: rgba(15, 15, 35, 0.6);
            border: 1px solid rgba(120, 119, 198, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .application-card:hover {
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }

        .application-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .student-info {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-approve {
            background: linear-gradient(135deg, #16a085, #27ae60);
            color: white;
        }

        .btn-reject {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .btn-pending {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .renewal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .renewal-card {
            background: rgba(15, 15, 35, 0.6);
            border: 1px solid rgba(120, 119, 198, 0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .renewal-card:hover {
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }

        .renewal-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .status-eligible { background: #16a085; }
        .status-review { background: #f39c12; }
        .status-ineligible { background: #e74c3c; }

        .report-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .report-card {
            background: rgba(15, 15, 35, 0.6);
            border: 2px solid rgba(120, 119, 198, 0.2);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .report-card:hover {
            border-color: rgba(0, 212, 255, 0.6);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }

        .report-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .report-title {
            font-size: 1.2em;
            color: #00d4ff;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .report-description {
            color: #94a3b8;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .filter-panel {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .filter-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-weight: 600;
            color: #00d4ff;
            font-size: 0.9em;
        }

        .form-input, .form-select {
            padding: 10px 15px;
            border: 2px solid rgba(120, 119, 198, 0.3);
            border-radius: 6px;
            background: rgba(15, 15, 35, 0.8);
            color: #e2e8f0;
            font-size: 14px;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2);
        }

        .progress-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(30, 30, 60, 0.3);
            border-radius: 8px;
        }

        .bulk-actions {
            background: rgba(30, 30, 60, 0.4);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .bulk-actions h4 {
            color: #00d4ff;
            margin-bottom: 15px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            transform: scale(1.2);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #64748b, #475569);
            color: white;
        }

        /* Recipient Details Modal Styles */
        .recipient-profile-header {
            background: linear-gradient(135deg, #1e3a8a, #3730a3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00d4ff, #5b73ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            margin: 0 auto 15px;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        .profile-name {
            font-size: 1.8em;
            font-weight: 700;
            color: white;
            margin-bottom: 5px;
        }

        .profile-id {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1em;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .profile-stat {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .profile-stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #00d4ff;
        }

        .profile-stat-label {
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
        }

        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .detail-section {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
        }

        .detail-section h4 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(120, 119, 198, 0.2);
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: #94a3b8;
            font-weight: 500;
        }

        .detail-value {
            color: #e2e8f0;
            font-weight: 600;
        }

        .timeline-container {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .timeline-item {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            position: relative;
        }

        .timeline-item:last-child {
            margin-bottom: 0;
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #00d4ff;
            margin-top: 6px;
            flex-shrink: 0;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-date {
            color: #00d4ff;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .timeline-event {
            color: #e2e8f0;
            font-weight: 500;
            margin-bottom: 3px;
        }

        .timeline-description {
            color: #94a3b8;
            font-size: 0.9em;
        }

        .performance-chart {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .chart-bar {
            background: rgba(120, 119, 198, 0.3);
            border-radius: 4px;
            height: 100px;
            position: relative;
            overflow: hidden;
        }

        .chart-fill {
            background: linear-gradient(180deg, #00d4ff, #5b73ff);
            position: absolute;
            bottom: 0;
            width: 100%;
            border-radius: 4px;
            transition: height 0.8s ease;
        }

        .chart-label {
            text-align: center;
            color: #94a3b8;
            font-size: 0.8em;
            margin-top: 8px;
        }

        .financial-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .financial-card {
            background: rgba(15, 15, 35, 0.6);
            border: 1px solid rgba(120, 119, 198, 0.2);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .financial-amount {
            font-size: 1.5em;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 5px;
        }

        .financial-label {
            color: #94a3b8;
            font-size: 0.9em;
        }

        .action-toolbar {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        /* Enhanced Action Button Styles */
        .action-btn {
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.8), rgba(45, 45, 80, 0.9));
            border: 2px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .action-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .action-btn:hover {
            border-color: rgba(0, 212, 255, 0.6);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.2);
        }

        .action-btn:hover:before {
            left: 100%;
        }

        .action-btn-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #00d4ff, #5b73ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .action-btn-title {
            font-size: 1.1em;
            font-weight: 700;
            color: #e2e8f0;
            margin-bottom: 8px;
        }

        .action-btn-desc {
            font-size: 0.9em;
            color: #94a3b8;
            line-height: 1.4;
        }

        /* Communication Modal Styles */
        .communication-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .communication-method {
            background: rgba(15, 15, 35, 0.6);
            border: 2px solid rgba(120, 119, 198, 0.2);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .communication-method:hover {
            border-color: rgba(0, 212, 255, 0.6);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.2);
        }

        .comm-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .comm-title {
            font-size: 1.3em;
            color: #00d4ff;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .comm-description {
            color: #94a3b8;
            font-size: 0.9em;
            line-height: 1.4;
        }

        /* Review Types Grid */
        .review-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .review-type-card {
            background: rgba(15, 15, 35, 0.6);
            border: 2px solid rgba(120, 119, 198, 0.2);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .review-type-card:hover {
            border-color: rgba(0, 212, 255, 0.6);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 212, 255, 0.2);
        }

        .review-type-card.selected {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }

        /* Transaction History Styles */
        .transaction-filters {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .transaction-item {
            background: rgba(15, 15, 35, 0.6);
            border: 1px solid rgba(120, 119, 198, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .transaction-item:hover {
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }

        .transaction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .transaction-amount {
            font-size: 1.3em;
            font-weight: bold;
            color: #00d4ff;
        }

        .transaction-date {
            color: #94a3b8;
            font-size: 0.9em;
        }

        .transaction-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            color: #e2e8f0;
            font-size: 0.9em;
        }

        /* Edit Form Styles */
        .edit-form-section {
            background: rgba(30, 30, 60, 0.4);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid rgba(120, 119, 198, 0.3);
            border-radius: 8px;
            background: rgba(15, 15, 35, 0.8);
            color: #e2e8f0;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2);
        }

        /* Calendar Integration */
        .calendar-widget {
            background: rgba(15, 15, 35, 0.6);
            border: 1px solid rgba(120, 119, 198, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .calendar-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .time-slot {
            background: rgba(30, 30, 60, 0.4);
            border: 2px solid rgba(120, 119, 198, 0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .time-slot:hover {
            border-color: rgba(0, 212, 255, 0.6);
            background: rgba(0, 212, 255, 0.1);
        }

        .time-slot.selected {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
        }

        @media (max-width: 768px) {
            .action-toolbar {
                grid-template-columns: 1fr;
            }
            
            .communication-panel {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .details-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .chart-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">🎓</div>
                <div class="logo-text">
                    <h1>Scholarship Management</h1>
                </div>
            </div>
            <a href="/finance_dashboard" class="back-btn">← Back to Finance Dashboard</a>
        </div>
    </header>

    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">Scholarship Management System</h1>
            <p style="color: #94a3b8;">Manage scholarships, awards, and financial aid programs</p>
        </div>

        <!-- Statistics Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">${{ "{:,.0f}".format(scholarship_data.total_awarded) }}</div>
                <div class="stat-label">Total Awarded</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">${{ "{:,.0f}".format(scholarship_data.remaining_budget) }}</div>
                <div class="stat-label">Remaining Budget</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ scholarship_data.applications_pending }}</div>
                <div class="stat-label">Pending Applications</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ scholarship_data.renewals_due }}</div>
                <div class="stat-label">Renewals Due</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ scholarship_data.active_scholarships }}</div>
                <div class="stat-label">Active Programs</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ scholarship_data.total_recipients }}</div>
                <div class="stat-label">Total Recipients</div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="btn btn-primary btn-large" onclick="createScholarship()">🆕 Create New Scholarship</button>
            <button class="btn btn-success btn-large" onclick="reviewApplications()">📋 Review Applications</button>
            <button class="btn btn-warning btn-large" onclick="processRenewals()">🔄 Process Renewals</button>
            <button class="btn btn-danger btn-large" onclick="generateReports()">📊 Generate Reports</button>
        </div>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Available Scholarships -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">💰 Available Scholarships</div>
                </div>
                <div class="search-controls">
                    <input type="text" class="search-input" placeholder="Search scholarships..." onkeyup="filterScholarships(this.value)">
                    <select class="filter-select" onchange="filterByStatus(this.value)">
                        <option value="">All Status</option>
                        <option value="active">Active</option>
                        <option value="pending">Pending</option>
                        <option value="closed">Closed</option>
                    </select>
                </div>
                
                <table class="scholarship-table" id="scholarshipTable">
                    <thead>
                        <tr>
                            <th>Scholarship Name</th>
                            <th>Amount</th>
                            <th>Recipients</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for scholarship in scholarship_data.available_scholarships %}
                        <tr data-status="active">
                            <td><strong>{{ scholarship.name }}</strong></td>
                            <td>${{ "{:,.0f}".format(scholarship.amount) }}</td>
                            <td>{{ scholarship.recipients }}</td>
                            <td><span class="status-badge status-active">Active</span></td>
                            <td>
                                <button class="btn btn-primary" onclick="editScholarship('{{ scholarship.name }}')">Edit</button>
                                <button class="btn btn-warning" onclick="viewRecipients('{{ scholarship.name }}')">Recipients</button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Recent Recipients -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">👥 Recent Recipients</div>
                </div>
                
                {% for recipient in scholarship_data.recent_recipients %}
                <div class="recipient-card clickable-recipient" onclick="viewRecipientDetails('{{ recipient.student_id }}', '{{ recipient.name }}')">
                    <div class="recipient-header">
                        <div class="recipient-name">{{ recipient.name }}</div>
                        <div class="status-badge status-active">${{ "{:,.0f}".format(recipient.amount) }}</div>
                    </div>
                    <div class="recipient-details">
                        <div><strong>Student ID:</strong> {{ recipient.student_id }}</div>
                        <div><strong>GPA:</strong> {{ recipient.gpa }}</div>
                        <div><strong>Major:</strong> {{ recipient.major }}</div>
                        <div><strong>Award Date:</strong> {{ recipient.award_date }}</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{ recipient.progress }}%"></div>
                    </div>
                    <div style="font-size: 0.8em; color: #94a3b8; margin-top: 8px;">
                        Academic Progress: {{ recipient.progress }}% • Click for detailed report
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Scholarship Programs Overview -->
        <div class="dashboard-card full-width">
            <div class="card-header">
                <div class="card-title">📊 Scholarship Programs Overview</div>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                {% for program in scholarship_data.programs_overview %}
                <div style="background: rgba(30, 30, 60, 0.4); padding: 20px; border-radius: 12px; border-left: 4px solid #00d4ff;">
                    <h4 style="color: #00d4ff; margin-bottom: 15px;">{{ program.name }}</h4>
                    <div style="margin-bottom: 10px;">
                        <strong>Budget:</strong> ${{ "{:,.0f}".format(program.budget) }}
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>Awarded:</strong> ${{ "{:,.0f}".format(program.awarded) }}
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{ (program.awarded / program.budget * 100) }}%"></div>
                    </div>
                    <div style="font-size: 0.9em; color: #94a3b8; margin-top: 8px;">
                        {{ "{:.1f}".format(program.awarded / program.budget * 100) }}% of budget utilized
                    </div>
                    <div style="margin-top: 15px;">
                        <button class="btn btn-primary" onclick="manageProgramBudget('{{ program.name }}')">Manage Budget</button>
                        <button class="btn btn-success" onclick="viewProgramDetails('{{ program.name }}')">View Details</button>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Enhanced Application Review Modal -->
    <div id="applicationReviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📋 Scholarship Application Review</h2>
                <span class="close" onclick="closeModal('applicationReviewModal')">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Filter Panel -->
                <div class="filter-panel">
                    <h4 class="section-title">🔍 Application Filters</h4>
                    <div class="filter-row">
                        <div class="form-group">
                            <label class="form-label">Application Status</label>
                            <select class="form-select" id="statusFilter">
                                <option value="">All Applications</option>
                                <option value="pending">Pending Review</option>
                                <option value="incomplete">Incomplete</option>
                                <option value="ready">Ready for Decision</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Scholarship Program</label>
                            <select class="form-select" id="programFilter">
                                <option value="">All Programs</option>
                                <option value="merit">Merit-Based Scholarship</option>
                                <option value="need">Need-Based Aid</option>
                                <option value="athletic">Athletic Scholarship</option>
                                <option value="academic">Academic Excellence</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">GPA Range</label>
                            <select class="form-select" id="gpaFilter">
                                <option value="">All GPAs</option>
                                <option value="3.8-4.0">3.8 - 4.0</option>
                                <option value="3.5-3.79">3.5 - 3.79</option>
                                <option value="3.0-3.49">3.0 - 3.49</option>
                                <option value="below-3.0">Below 3.0</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Application Date</label>
                            <input type="date" class="form-input" id="dateFilter">
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="applyFilters()">Apply Filters</button>
                        <button class="btn btn-secondary" onclick="clearFilters()">Clear All</button>
                    </div>
                </div>

                <!-- Bulk Actions -->
                <div class="bulk-actions">
                    <h4>⚡ Bulk Actions</h4>
                    <div class="checkbox-group">
                        <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                        <label for="selectAll">Select All Applications</label>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-approve" onclick="bulkApprove()">✅ Bulk Approve</button>
                        <button class="btn btn-pending" onclick="bulkPending()">⏳ Mark Pending</button>
                        <button class="btn btn-reject" onclick="bulkReject()">❌ Bulk Reject</button>
                    </div>
                </div>

                <!-- Applications List -->
                <div class="modal-section">
                    <h3 class="section-title">📝 Pending Applications (12)</h3>
                    
                    <div class="application-card">
                        <div class="application-header">
                            <div>
                                <input type="checkbox" class="app-checkbox" data-id="APP001">
                                <strong style="margin-left: 10px;">Emma Thompson - Merit-Based Scholarship</strong>
                            </div>
                            <span class="status-badge status-pending">Under Review</span>
                        </div>
                        <div class="student-info">
                            <div><strong>Student ID:</strong> WU001</div>
                            <div><strong>GPA:</strong> 3.92</div>
                            <div><strong>Major:</strong> Computer Science</div>
                            <div><strong>Applied:</strong> March 15, 2025</div>
                            <div><strong>Amount Requested:</strong> $5,000</div>
                            <div><strong>Financial Need:</strong> High</div>
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="viewApplication('APP001')">📄 View Full Application</button>
                            <button class="btn btn-approve" onclick="approveApplication('APP001')">✅ Approve</button>
                            <button class="btn btn-pending" onclick="requestDocuments('APP001')">📋 Request Documents</button>
                            <button class="btn btn-reject" onclick="rejectApplication('APP001')">❌ Reject</button>
                        </div>
                    </div>

                    <div class="application-card">
                        <div class="application-header">
                            <div>
                                <input type="checkbox" class="app-checkbox" data-id="APP002">
                                <strong style="margin-left: 10px;">Marcus Johnson - Athletic Scholarship</strong>
                            </div>
                            <span class="status-badge status-active">Ready for Decision</span>
                        </div>
                        <div class="student-info">
                            <div><strong>Student ID:</strong> WU002</div>
                            <div><strong>GPA:</strong> 3.67</div>
                            <div><strong>Major:</strong> Kinesiology</div>
                            <div><strong>Applied:</strong> March 10, 2025</div>
                            <div><strong>Amount Requested:</strong> $8,000</div>
                            <div><strong>Sport:</strong> Basketball</div>
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="viewApplication('APP002')">📄 View Full Application</button>
                            <button class="btn btn-approve" onclick="approveApplication('APP002')">✅ Approve</button>
                            <button class="btn btn-pending" onclick="requestDocuments('APP002')">📋 Request Documents</button>
                            <button class="btn btn-reject" onclick="rejectApplication('APP002')">❌ Reject</button>
                        </div>
                    </div>

                    <div class="application-card">
                        <div class="application-header">
                            <div>
                                <input type="checkbox" class="app-checkbox" data-id="APP003">
                                <strong style="margin-left: 10px;">Sarah Chen - Need-Based Aid</strong>
                            </div>
                            <span class="status-badge status-closed">Documents Missing</span>
                        </div>
                        <div class="student-info">
                            <div><strong>Student ID:</strong> WU003</div>
                            <div><strong>GPA:</strong> 3.85</div>
                            <div><strong>Major:</strong> Biology</div>
                            <div><strong>Applied:</strong> March 8, 2025</div>
                            <div><strong>Amount Requested:</strong> $6,500</div>
                            <div><strong>Missing:</strong> Tax Returns</div>
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="viewApplication('APP003')">📄 View Full Application</button>
                            <button class="btn btn-warning" onclick="contactStudent('APP003')">📧 Contact Student</button>
                            <button class="btn btn-pending" onclick="requestDocuments('APP003')">📋 Request Documents</button>
                        </div>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="progress-section">
                    <h4 style="color: #00d4ff; margin-bottom: 15px;">📊 Review Progress</h4>
                    <div style="margin-bottom: 10px;">Applications Processed Today: <strong>8/12 (67%)</strong></div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 67%"></div>
                    </div>
                    <div style="font-size: 0.9em; color: #94a3b8; margin-top: 10px;">
                        Average processing time: 2.3 days | Target: 3 days
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Renewals Modal -->
    <div id="renewalsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">🔄 Scholarship Renewals Management</h2>
                <span class="close" onclick="closeModal('renewalsModal')">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Renewals Summary -->
                <div class="modal-section">
                    <h3 class="section-title">📊 Renewal Overview</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
                        <div class="stat-card">
                            <div class="stat-value">24</div>
                            <div class="stat-label">Due This Month</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">18</div>
                            <div class="stat-label">Eligible</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">4</div>
                            <div class="stat-label">Need Review</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">2</div>
                            <div class="stat-label">Ineligible</div>
                        </div>
                    </div>
                </div>

                <!-- Bulk Renewal Actions -->
                <div class="bulk-actions">
                    <h4>⚡ Bulk Renewal Actions</h4>
                    <div class="btn-group">
                        <button class="btn btn-approve" onclick="processEligibleRenewals()">✅ Process All Eligible (18)</button>
                        <button class="btn btn-warning" onclick="reviewPendingRenewals()">🔍 Review Pending (4)</button>
                        <button class="btn btn-primary" onclick="sendRenewalNotifications()">📧 Send Notifications</button>
                    </div>
                </div>

                <!-- Renewals Grid -->
                <div class="modal-section">
                    <h3 class="section-title">🎓 Scholarship Renewals</h3>
                    <div class="renewal-grid">
                        
                        <div class="renewal-card">
                            <div class="renewal-status">
                                <div class="status-indicator status-eligible"></div>
                                <strong>Emily Rodriguez - Merit Scholarship</strong>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <div><strong>Student ID:</strong> WU101</div>
                                <div><strong>Current GPA:</strong> 3.89</div>
                                <div><strong>Required GPA:</strong> 3.5</div>
                                <div><strong>Renewal Amount:</strong> $5,000</div>
                                <div><strong>Due Date:</strong> April 30, 2025</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 95%"></div>
                            </div>
                            <div style="font-size: 0.9em; color: #16a085; margin: 10px 0;">✅ Meets all renewal criteria</div>
                            <div class="btn-group">
                                <button class="btn btn-approve" onclick="approveRenewal('WU101')">✅ Approve Renewal</button>
                                <button class="btn btn-primary" onclick="viewRenewalDetails('WU101')">📄 View Details</button>
                            </div>
                        </div>

                        <div class="renewal-card">
                            <div class="renewal-status">
                                <div class="status-indicator status-review"></div>
                                <strong>David Park - Athletic Scholarship</strong>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <div><strong>Student ID:</strong> WU102</div>
                                <div><strong>Current GPA:</strong> 3.45</div>
                                <div><strong>Required GPA:</strong> 3.5</div>
                                <div><strong>Renewal Amount:</strong> $7,500</div>
                                <div><strong>Due Date:</strong> April 25, 2025</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 75%"></div>
                            </div>
                            <div style="font-size: 0.9em; color: #f39c12; margin: 10px 0;">⚠️ GPA below requirement - needs review</div>
                            <div class="btn-group">
                                <button class="btn btn-warning" onclick="reviewGPAException('WU102')">🔍 Review Exception</button>
                                <button class="btn btn-primary" onclick="contactCoach('WU102')">🏃 Contact Coach</button>
                                <button class="btn btn-primary" onclick="viewRenewalDetails('WU102')">📄 View Details</button>
                            </div>
                        </div>

                        <div class="renewal-card">
                            <div class="renewal-status">
                                <div class="status-indicator status-eligible"></div>
                                <strong>Aisha Patel - Academic Excellence</strong>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <div><strong>Student ID:</strong> WU103</div>
                                <div><strong>Current GPA:</strong> 4.0</div>
                                <div><strong>Required GPA:</strong> 3.7</div>
                                <div><strong>Renewal Amount:</strong> $6,000</div>
                                <div><strong>Due Date:</strong> May 5, 2025</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%"></div>
                            </div>
                            <div style="font-size: 0.9em; color: #16a085; margin: 10px 0;">✅ Exceeds all requirements</div>
                            <div class="btn-group">
                                <button class="btn btn-approve" onclick="approveRenewal('WU103')">✅ Approve Renewal</button>
                                <button class="btn btn-success" onclick="considerIncrease('WU103')">💰 Consider Increase</button>
                                <button class="btn btn-primary" onclick="viewRenewalDetails('WU103')">📄 View Details</button>
                            </div>
                        </div>

                        <div class="renewal-card">
                            <div class="renewal-status">
                                <div class="status-indicator status-ineligible"></div>
                                <strong>Michael Brown - Need-Based Aid</strong>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <div><strong>Student ID:</strong> WU104</div>
                                <div><strong>Current GPA:</strong> 2.85</div>
                                <div><strong>Required GPA:</strong> 3.0</div>
                                <div><strong>Previous Amount:</strong> $4,500</div>
                                <div><strong>Due Date:</strong> April 20, 2025</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%"></div>
                            </div>
                            <div style="font-size: 0.9em; color: #e74c3c; margin: 10px 0;">❌ Does not meet renewal criteria</div>
                            <div class="btn-group">
                                <button class="btn btn-reject" onclick="denyRenewal('WU104')">❌ Deny Renewal</button>
                                <button class="btn btn-warning" onclick="offerProbation('WU104')">⚠️ Academic Probation</button>
                                <button class="btn btn-primary" onclick="viewRenewalDetails('WU104')">📄 View Details</button>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Renewal Timeline -->
                <div class="progress-section">
                    <h4 style="color: #00d4ff; margin-bottom: 15px;">📅 Renewal Timeline</h4>
                    <div style="margin-bottom: 10px;">Renewals processed: <strong>18/24 (75%)</strong></div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <div style="font-size: 0.9em; color: #94a3b8; margin-top: 10px;">
                        Next deadline: April 20, 2025 | 6 renewals remaining
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Reports Modal -->
    <div id="reportsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📊 Scholarship Reports & Analytics</h2>
                <span class="close" onclick="closeModal('reportsModal')">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Report Categories -->
                <div class="modal-section">
                    <h3 class="section-title">📈 Available Reports</h3>
                    <div class="report-grid">
                        
                        <div class="report-card" onclick="generateReport('utilization')">
                            <div class="report-icon">💰</div>
                            <div class="report-title">Scholarship Utilization Report</div>
                            <div class="report-description">
                                Comprehensive analysis of scholarship fund allocation, spending patterns, and budget utilization across all programs.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('performance')">
                            <div class="report-icon">🎓</div>
                            <div class="report-title">Recipient Performance Report</div>
                            <div class="report-description">
                                Academic performance tracking, GPA trends, graduation rates, and success metrics for scholarship recipients.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('budget')">
                            <div class="report-icon">📊</div>
                            <div class="report-title">Budget Analysis Report</div>
                            <div class="report-description">
                                Detailed financial analysis including budget forecasts, spending projections, and fund allocation recommendations.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('compliance')">
                            <div class="report-icon">✅</div>
                            <div class="report-title">Compliance Report</div>
                            <div class="report-description">
                                Regulatory compliance tracking, audit trail documentation, and adherence to federal and state guidelines.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('impact')">
                            <div class="report-icon">🌟</div>
                            <div class="report-title">Impact Assessment Report</div>
                            <div class="report-description">
                                Measure scholarship program effectiveness, student retention rates, and long-term educational outcomes.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('demographic')">
                            <div class="report-icon">👥</div>
                            <div class="report-title">Demographic Analysis</div>
                            <div class="report-description">
                                Diversity metrics, demographic distribution, and equity analysis across scholarship programs.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('trends')">
                            <div class="report-icon">📈</div>
                            <div class="report-title">Trends & Forecasting</div>
                            <div class="report-description">
                                Historical trend analysis, application patterns, and predictive modeling for future scholarship needs.
                            </div>
                        </div>

                        <div class="report-card" onclick="generateReport('custom')">
                            <div class="report-icon">⚙️</div>
                            <div class="report-title">Custom Report Builder</div>
                            <div class="report-description">
                                Create customized reports with specific parameters, date ranges, and data visualizations.
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Quick Reports -->
                <div class="modal-section">
                    <h3 class="section-title">⚡ Quick Reports</h3>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="quickReport('monthly')">📅 Monthly Summary</button>
                        <button class="btn btn-success" onclick="quickReport('top-recipients')">🏆 Top Recipients</button>
                        <button class="btn btn-warning" onclick="quickReport('overdue')">⏰ Overdue Applications</button>
                        <button class="btn btn-danger" onclick="quickReport('urgent')">🚨 Urgent Actions</button>
                    </div>
                </div>

                <!-- Export Options -->
                <div class="modal-section">
                    <h3 class="section-title">📤 Export Options</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="background: rgba(15, 15, 35, 0.6); padding: 20px; border-radius: 8px;">
                            <h4 style="color: #00d4ff; margin-bottom: 15px;">📄 PDF Reports</h4>
                            <p style="color: #94a3b8; margin-bottom: 15px; font-size: 0.9em;">
                                Professional formatted reports with charts and graphs
                            </p>
                            <button class="btn btn-primary" onclick="exportPDF()">Export as PDF</button>
                        </div>
                        <div style="background: rgba(15, 15, 35, 0.6); padding: 20px; border-radius: 8px;">
                            <h4 style="color: #00d4ff; margin-bottom: 15px;">📊 Excel Spreadsheets</h4>
                            <p style="color: #94a3b8; margin-bottom: 15px; font-size: 0.9em;">
                                Raw data export for further analysis and manipulation
                            </p>
                            <button class="btn btn-success" onclick="exportExcel()">Export as Excel</button>
                        </div>
                        <div style="background: rgba(15, 15, 35, 0.6); padding: 20px; border-radius: 8px;">
                            <h4 style="color: #00d4ff; margin-bottom: 15px;">📧 Email Reports</h4>
                            <p style="color: #94a3b8; margin-bottom: 15px; font-size: 0.9em;">
                                Schedule automated reports to stakeholders
                            </p>
                            <button class="btn btn-warning" onclick="scheduleEmail()">Schedule Email</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recipient Details Modal -->
    <div id="recipientDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📋 Recipient Detailed Report</h2>
                <span class="close" onclick="closeModal('recipientDetailsModal')">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Profile Header -->
                <div class="recipient-profile-header">
                    <div class="profile-avatar" id="profileAvatar">👤</div>
                    <div class="profile-name" id="profileName">Student Name</div>
                    <div class="profile-id" id="profileId">Student ID</div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="currentGPA">3.85</div>
                            <div class="profile-stat-label">Current GPA</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="totalAwarded">$15,000</div>
                            <div class="profile-stat-label">Total Awarded</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="yearsActive">3</div>
                            <div class="profile-stat-label">Years Active</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="statusBadge">Active</div>
                            <div class="profile-stat-label">Status</div>
                        </div>
                    </div>
                </div>

                <!-- Details Grid -->
                <div class="details-grid">
                    <!-- Academic Information -->
                    <div class="detail-section">
                        <h4>🎓 Academic Information</h4>
                        <div class="detail-item">
                            <span class="detail-label">Major</span>
                            <span class="detail-value" id="studentMajor">Computer Science</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Minor</span>
                            <span class="detail-value" id="studentMinor">Mathematics</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Year Level</span>
                            <span class="detail-value" id="yearLevel">Junior</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Expected Graduation</span>
                            <span class="detail-value" id="expectedGrad">May 2026</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Credit Hours Completed</span>
                            <span class="detail-value" id="creditHours">89/120</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Academic Standing</span>
                            <span class="detail-value" id="academicStanding">Good Standing</span>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="detail-section">
                        <h4>📞 Contact Information</h4>
                        <div class="detail-item">
                            <span class="detail-label">Email</span>
                            <span class="detail-value" id="studentEmail">student@waldorf.edu</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Phone</span>
                            <span class="detail-value" id="studentPhone">(555) 123-4567</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Emergency Contact</span>
                            <span class="detail-value" id="emergencyContact">Parent Name</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Address</span>
                            <span class="detail-value" id="studentAddress">123 Main St, City, State</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Last Contact</span>
                            <span class="detail-value" id="lastContact">March 15, 2025</span>
                        </div>
                    </div>
                </div>

                <!-- Academic Performance Chart -->
                <div class="performance-chart">
                    <h4 style="color: #00d4ff; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">📈 Academic Performance Trends</h4>
                    <div class="chart-grid">
                        <div class="chart-bar">
                            <div class="chart-fill" style="height: 92%"></div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-fill" style="height: 88%"></div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-fill" style="height: 91%"></div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-fill" style="height: 95%"></div>
                        </div>
                    </div>
                    <div class="chart-grid">
                        <div class="chart-label">Fall 2023</div>
                        <div class="chart-label">Spring 2024</div>
                        <div class="chart-label">Fall 2024</div>
                        <div class="chart-label">Spring 2025</div>
                    </div>
                </div>

                <!-- Financial Summary -->
                <div class="detail-section" style="grid-column: 1 / -1;">
                    <h4>💰 Financial Aid Summary</h4>
                    <div class="financial-summary">
                        <div class="financial-card">
                            <div class="financial-amount" id="totalScholarships">$15,000</div>
                            <div class="financial-label">Total Scholarships</div>
                        </div>
                        <div class="financial-card">
                            <div class="financial-amount" id="currentAward">$5,000</div>
                            <div class="financial-label">Current Award</div>
                        </div>
                        <div class="financial-card">
                            <div class="financial-amount" id="remainingNeed">$8,500</div>
                            <div class="financial-label">Remaining Need</div>
                        </div>
                        <div class="financial-card">
                            <div class="financial-amount" id="tuitionBalance">$12,000</div>
                            <div class="financial-label">Tuition Balance</div>
                        </div>
                    </div>
                </div>

                <!-- Scholarship History Timeline -->
                <div class="timeline-container">
                    <h4 style="color: #00d4ff; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">🏆 Scholarship History</h4>
                    
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">March 2025</div>
                            <div class="timeline-event">Academic Excellence Scholarship Renewed</div>
                            <div class="timeline-description">$5,000 awarded for Spring 2025 semester based on outstanding academic performance (GPA: 3.92)</div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">September 2024</div>
                            <div class="timeline-event">Merit-Based Scholarship Awarded</div>
                            <div class="timeline-description">$5,000 awarded for Fall 2024 semester. Student demonstrated exceptional academic achievement and leadership qualities</div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">March 2024</div>
                            <div class="timeline-event">Dean's List Recognition</div>
                            <div class="timeline-description">Student achieved Dean's List status with 3.8+ GPA. Eligible for additional scholarship opportunities</div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">September 2023</div>
                            <div class="timeline-event">Initial Scholarship Award</div>
                            <div class="timeline-description">$5,000 freshman scholarship awarded based on high school academic performance and SAT scores</div>
                        </div>
                    </div>
                </div>

                <!-- Additional Details Grid -->
                <div class="details-grid">
                    <!-- Requirements & Compliance -->
                    <div class="detail-section">
                        <h4>✅ Requirements & Compliance</h4>
                        <div class="detail-item">
                            <span class="detail-label">GPA Requirement</span>
                            <span class="detail-value" style="color: #16a085;">3.5+ ✓</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Credit Hours/Semester</span>
                            <span class="detail-value" style="color: #16a085;">12+ ✓</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Community Service</span>
                            <span class="detail-value" style="color: #16a085;">20 hours ✓</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Financial Aid Form</span>
                            <span class="detail-value" style="color: #16a085;">Submitted ✓</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Renewal Application</span>
                            <span class="detail-value" style="color: #f39c12;">Due April 30</span>
                        </div>
                    </div>

                    <!-- Activities & Involvement -->
                    <div class="detail-section">
                        <h4>🌟 Activities & Involvement</h4>
                        <div class="detail-item">
                            <span class="detail-label">Student Organizations</span>
                            <span class="detail-value">Computer Science Club</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Leadership Roles</span>
                            <span class="detail-value">Vice President</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Volunteer Work</span>
                            <span class="detail-value">Code for Good Initiative</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Internships</span>
                            <span class="detail-value">Tech Startup Summer 2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Awards & Recognition</span>
                            <span class="detail-value">Dean's List (3 semesters)</span>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Action Toolbar -->
                <div class="action-toolbar">
                    <div class="action-btn" onclick="openCommunicationCenter()">
                        <div class="action-btn-icon">📧</div>
                        <div class="action-btn-title">Contact Student</div>
                        <div class="action-btn-desc">Email, call, or message the student directly</div>
                    </div>

                    <div class="action-btn" onclick="openRenewalProcessor()">
                        <div class="action-btn-icon">🔄</div>
                        <div class="action-btn-title">Process Renewal</div>
                        <div class="action-btn-desc">Review and approve scholarship renewal</div>
                    </div>

                    <div class="action-btn" onclick="openScheduleReview()">
                        <div class="action-btn-icon">📅</div>
                        <div class="action-btn-title">Schedule Review</div>
                        <div class="action-btn-desc">Book appointment for academic review</div>
                    </div>

                    <div class="action-btn" onclick="openReportGenerator()">
                        <div class="action-btn-icon">📊</div>
                        <div class="action-btn-title">Generate Report</div>
                        <div class="action-btn-desc">Create comprehensive student report</div>
                    </div>

                    <div class="action-btn" onclick="openStudentEditor()">
                        <div class="action-btn-icon">✏️</div>
                        <div class="action-btn-title">Edit Details</div>
                        <div class="action-btn-desc">Update student information and records</div>
                    </div>

                    <div class="action-btn" onclick="openTransactionHistory()">
                        <div class="action-btn-icon">💳</div>
                        <div class="action-btn-title">Transaction History</div>
                        <div class="action-btn-desc">View detailed financial transactions</div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Communication Center Modal -->
    <div id="communicationCenterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📧 Communication Center</h2>
                <span class="close" onclick="closeModal('communicationCenterModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="communication-panel">
                    <div class="communication-method" onclick="sendEmail()">
                        <div class="comm-icon">📧</div>
                        <div class="comm-title">Send Email</div>
                        <div class="comm-description">Send professional email with templates and tracking</div>
                    </div>

                    <div class="communication-method" onclick="makePhoneCall()">
                        <div class="comm-icon">📞</div>
                        <div class="comm-title">Phone Call</div>
                        <div class="comm-description">Schedule or initiate direct phone communication</div>
                    </div>

                    <div class="communication-method" onclick="sendTextMessage()">
                        <div class="comm-icon">💬</div>
                        <div class="comm-title">Text Message</div>
                        <div class="comm-description">Send SMS notifications and reminders</div>
                    </div>

                    <div class="communication-method" onclick="scheduleMeeting()">
                        <div class="comm-icon">🤝</div>
                        <div class="comm-title">Schedule Meeting</div>
                        <div class="comm-description">Book in-person or virtual appointments</div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">📝 Quick Message Templates</h3>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="useTemplate('renewal_reminder')">Renewal Reminder</button>
                        <button class="btn btn-success" onclick="useTemplate('congratulations')">Congratulations</button>
                        <button class="btn btn-warning" onclick="useTemplate('document_request')">Document Request</button>
                        <button class="btn btn-danger" onclick="useTemplate('urgent_action')">Urgent Action Required</button>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">📋 Communication History</h3>
                    <div style="max-height: 300px; overflow-y: auto;">
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">March 15, 2025</div>
                                <div class="timeline-event">Email: Scholarship Renewal Notification</div>
                                <div class="timeline-description">Sent renewal application instructions and deadlines</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">March 10, 2025</div>
                                <div class="timeline-event">Phone Call: Academic Progress Check</div>
                                <div class="timeline-description">Discussed current semester performance and goals</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Renewal Processor Modal -->
    <div id="renewalProcessorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">🔄 Scholarship Renewal Processor</h2>
                <span class="close" onclick="closeModal('renewalProcessorModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3 class="section-title">✅ Eligibility Check</h3>
                    <div class="details-grid">
                        <div class="detail-section">
                            <h4>📊 Academic Requirements</h4>
                            <div class="detail-item">
                                <span class="detail-label">GPA Requirement</span>
                                <span class="detail-value" style="color: #16a085;" id="gpaCheck">3.5+ ✓ (Current: 3.92)</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Credit Hours</span>
                                <span class="detail-value" style="color: #16a085;" id="creditCheck">12+ ✓ (Enrolled: 15)</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Academic Standing</span>
                                <span class="detail-value" style="color: #16a085;" id="standingCheck">Good Standing ✓</span>
                            </div>
                        </div>
                        <div class="detail-section">
                            <h4>📋 Administrative Requirements</h4>
                            <div class="detail-item">
                                <span class="detail-label">FAFSA Completion</span>
                                <span class="detail-value" style="color: #16a085;" id="fafsaCheck">Completed ✓</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Community Service</span>
                                <span class="detail-value" style="color: #16a085;" id="serviceCheck">25 hours ✓</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Renewal Application</span>
                                <span class="detail-value" style="color: #16a085;" id="applicationCheck">Submitted ✓</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">💰 Renewal Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Renewal Amount</label>
                            <input type="text" class="form-input" id="renewalAmount" value="$5,000">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Effective Semester</label>
                            <select class="form-select" id="effectiveSemester">
                                <option value="fall2025">Fall 2025</option>
                                <option value="spring2026">Spring 2026</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Renewal Notes</label>
                        <textarea class="form-textarea" id="renewalNotes" placeholder="Add any notes about this renewal..."></textarea>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">🎯 Action Required</h3>
                    <div class="btn-group">
                        <button class="btn btn-approve btn-large" onclick="approveRenewalFinal()">✅ Approve Renewal</button>
                        <button class="btn btn-pending btn-large" onclick="requestAdditionalInfo()">📋 Request Additional Info</button>
                        <button class="btn btn-reject btn-large" onclick="denyRenewalFinal()">❌ Deny Renewal</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Schedule Review Modal -->
    <div id="scheduleReviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📅 Schedule Academic Review</h2>
                <span class="close" onclick="closeModal('scheduleReviewModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3 class="section-title">📋 Review Type Selection</h3>
                    <div class="review-types-grid">
                        <div class="review-type-card" onclick="selectReviewType(this, 'academic')">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">🎓</div>
                            <div style="font-weight: 600; color: #00d4ff;">Academic Performance</div>
                            <div style="color: #94a3b8; font-size: 0.9em;">Review grades, GPA, and academic progress</div>
                        </div>
                        <div class="review-type-card" onclick="selectReviewType(this, 'financial')">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">💰</div>
                            <div style="font-weight: 600; color: #00d4ff;">Financial Aid Review</div>
                            <div style="color: #94a3b8; font-size: 0.9em;">Assess financial need and aid eligibility</div>
                        </div>
                        <div class="review-type-card" onclick="selectReviewType(this, 'compliance')">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">✅</div>
                            <div style="font-weight: 600; color: #00d4ff;">Compliance Check</div>
                            <div style="color: #94a3b8; font-size: 0.9em;">Verify scholarship requirements compliance</div>
                        </div>
                        <div class="review-type-card" onclick="selectReviewType(this, 'graduation')">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">🎯</div>
                            <div style="font-weight: 600; color: #00d4ff;">Graduation Planning</div>
                            <div style="color: #94a3b8; font-size: 0.9em;">Plan graduation timeline and requirements</div>
                        </div>
                    </div>
                </div>

                <div class="calendar-widget">
                    <div class="calendar-header">
                        <h3 style="color: #00d4ff; margin: 0;">📅 Select Date & Time</h3>
                        <div>
                            <button class="btn btn-secondary" onclick="previousWeek()">◀ Previous</button>
                            <button class="btn btn-secondary" onclick="nextWeek()">Next ▶</button>
                        </div>
                    </div>
                    <div class="time-slots">
                        <div class="time-slot" onclick="selectTimeSlot(this, '9:00 AM')">Monday<br>9:00 AM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '10:30 AM')">Monday<br>10:30 AM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '2:00 PM')">Tuesday<br>2:00 PM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '3:30 PM')">Tuesday<br>3:30 PM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '11:00 AM')">Wednesday<br>11:00 AM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '1:00 PM')">Thursday<br>1:00 PM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '9:30 AM')">Friday<br>9:30 AM</div>
                        <div class="time-slot" onclick="selectTimeSlot(this, '4:00 PM')">Friday<br>4:00 PM</div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">📝 Additional Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Meeting Location</label>
                            <select class="form-select" id="meetingLocation">
                                <option value="office">Financial Aid Office</option>
                                <option value="virtual">Virtual Meeting (Zoom)</option>
                                <option value="library">Library Conference Room</option>
                                <option value="phone">Phone Call</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Priority Level</label>
                            <select class="form-select" id="priorityLevel">
                                <option value="normal">Normal</option>
                                <option value="high">High Priority</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Agenda / Notes</label>
                        <textarea class="form-textarea" id="reviewAgenda" placeholder="Outline topics to discuss during the review..."></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-primary btn-large" onclick="scheduleReviewAppointment()">📅 Schedule Review</button>
                        <button class="btn btn-secondary" onclick="closeModal('scheduleReviewModal')">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Generator Modal -->
    <div id="reportGeneratorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📊 Advanced Report Generator</h2>
                <span class="close" onclick="closeModal('reportGeneratorModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3 class="section-title">📋 Report Configuration</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Report Type</label>
                            <select class="form-select" id="reportType" onchange="updateReportOptions()">
                                <option value="comprehensive">Comprehensive Student Report</option>
                                <option value="academic">Academic Performance Report</option>
                                <option value="financial">Financial Aid Summary</option>
                                <option value="compliance">Compliance Status Report</option>
                                <option value="timeline">Scholarship Timeline Report</option>
                                <option value="custom">Custom Report</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Report Format</label>
                            <select class="form-select" id="reportFormat">
                                <option value="pdf">PDF Document</option>
                                <option value="excel">Excel Spreadsheet</option>
                                <option value="powerpoint">PowerPoint Presentation</option>
                                <option value="word">Word Document</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Date Range</label>
                            <select class="form-select" id="dateRange">
                                <option value="current">Current Semester</option>
                                <option value="academic_year">Academic Year</option>
                                <option value="all_time">All Time</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Include Graphics</label>
                            <select class="form-select" id="includeGraphics">
                                <option value="yes">Yes - Include Charts</option>
                                <option value="no">No - Text Only</option>
                                <option value="minimal">Minimal Graphics</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">📊 Report Sections</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="academicSection" checked>
                                <label for="academicSection">Academic Performance</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="financialSection" checked>
                                <label for="financialSection">Financial Information</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="scholarshipSection" checked>
                                <label for="scholarshipSection">Scholarship History</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="complianceSection" checked>
                                <label for="complianceSection">Compliance Status</label>
                            </div>
                        </div>
                        <div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="contactSection">
                                <label for="contactSection">Contact Information</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="activitiesSection">
                                <label for="activitiesSection">Activities & Involvement</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="transactionSection">
                                <label for="transactionSection">Transaction History</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="recommendationSection">
                                <label for="recommendationSection">Recommendations</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">⚙️ Advanced Options</h3>
                    <div class="form-group">
                        <label class="form-label">Additional Notes</label>
                        <textarea class="form-textarea" id="reportNotes" placeholder="Add any specific notes or instructions for this report..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Email Copy To</label>
                            <input type="email" class="form-input" id="emailCopy" placeholder="advisor@waldorf.edu">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Privacy Level</label>
                            <select class="form-select" id="privacyLevel">
                                <option value="full">Full Access</option>
                                <option value="limited">Limited Access</option>
                                <option value="confidential">Confidential</option>
                            </select>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-primary btn-large" onclick="generateStudentReport()">📊 Generate Report</button>
                        <button class="btn btn-success" onclick="previewReport()">👁️ Preview First</button>
                        <button class="btn btn-secondary" onclick="closeModal('reportGeneratorModal')">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Student Editor Modal -->
    <div id="studentEditorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">✏️ Student Information Editor</h2>
                <span class="close" onclick="closeModal('studentEditorModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="edit-form-section">
                    <h3 class="section-title">👤 Personal Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-input" id="editFullName" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Student ID</label>
                            <input type="text" class="form-input" id="editStudentId" value="" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-input" id="editEmail" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" id="editPhone" value="">
                        </div>
                    </div>
                </div>

                <div class="edit-form-section">
                    <h3 class="section-title">🎓 Academic Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Major</label>
                            <select class="form-select" id="editMajor">
                                <option value="computer_science">Computer Science</option>
                                <option value="biology">Biology</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="english">English Literature</option>
                                <option value="business">Business Administration</option>
                                <option value="psychology">Psychology</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Minor</label>
                            <select class="form-select" id="editMinor">
                                <option value="">No Minor</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="philosophy">Philosophy</option>
                                <option value="business">Business</option>
                                <option value="creative_writing">Creative Writing</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Year Level</label>
                            <select class="form-select" id="editYearLevel">
                                <option value="freshman">Freshman</option>
                                <option value="sophomore">Sophomore</option>
                                <option value="junior">Junior</option>
                                <option value="senior">Senior</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expected Graduation</label>
                            <input type="month" class="form-input" id="editGraduation" value="">
                        </div>
                    </div>
                </div>

                <div class="edit-form-section">
                    <h3 class="section-title">💰 Financial Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Current Award Amount</label>
                            <input type="number" class="form-input" id="editAwardAmount" value="" step="100">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Financial Need Level</label>
                            <select class="form-select" id="editNeedLevel">
                                <option value="low">Low Need</option>
                                <option value="moderate">Moderate Need</option>
                                <option value="high">High Need</option>
                                <option value="exceptional">Exceptional Need</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="edit-form-section">
                    <h3 class="section-title">📝 Administrative Notes</h3>
                    <div class="form-group">
                        <label class="form-label">Internal Notes (Staff Only)</label>
                        <textarea class="form-textarea" id="editInternalNotes" placeholder="Add internal notes about this student..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Reason for Changes</label>
                        <textarea class="form-textarea" id="editChangeReason" placeholder="Explain why these changes are being made..."></textarea>
                    </div>
                </div>

                <div style="background: rgba(255, 196, 0, 0.1); border: 1px solid rgba(255, 196, 0, 0.3); border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                    <strong style="color: #ffc400;">⚠️ Important:</strong> 
                    <span style="color: #e2e8f0;">All changes require supervisor approval and will be logged for audit purposes.</span>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary btn-large" onclick="saveStudentChanges()">💾 Save Changes</button>
                    <button class="btn btn-warning" onclick="requestApproval()">✅ Request Approval</button>
                    <button class="btn btn-secondary" onclick="resetForm()">🔄 Reset Form</button>
                    <button class="btn btn-secondary" onclick="closeModal('studentEditorModal')">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Transaction History Modal -->
    <div id="transactionHistoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">💳 Transaction History</h2>
                <span class="close" onclick="closeModal('transactionHistoryModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="transaction-filters">
                    <h3 class="section-title">🔍 Filter Transactions</h3>
                    <div class="filter-row">
                        <div class="form-group">
                            <label class="form-label">Transaction Type</label>
                            <select class="form-select" id="transactionTypeFilter">
                                <option value="">All Types</option>
                                <option value="scholarship">Scholarship Disbursement</option>
                                <option value="tuition">Tuition Payment</option>
                                <option value="fees">Fee Assessment</option>
                                <option value="refund">Refund</option>
                                <option value="adjustment">Adjustment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date Range</label>
                            <select class="form-select" id="transactionDateFilter">
                                <option value="all">All Time</option>
                                <option value="current_semester">Current Semester</option>
                                <option value="last_30_days">Last 30 Days</option>
                                <option value="last_year">Last Year</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Amount Range</label>
                            <select class="form-select" id="amountRangeFilter">
                                <option value="">All Amounts</option>
                                <option value="0-1000">$0 - $1,000</option>
                                <option value="1000-5000">$1,000 - $5,000</option>
                                <option value="5000+">$5,000+</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select class="form-select" id="statusFilter">
                                <option value="">All Status</option>
                                <option value="completed">Completed</option>
                                <option value="pending">Pending</option>
                                <option value="failed">Failed</option>
                                <option value="reversed">Reversed</option>
                            </select>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="applyTransactionFilters()">Apply Filters</button>
                        <button class="btn btn-secondary" onclick="clearTransactionFilters()">Clear All</button>
                        <button class="btn btn-success" onclick="exportTransactions()">📊 Export Data</button>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">💰 Transaction Summary</h3>
                    <div class="financial-summary">
                        <div class="financial-card">
                            <div class="financial-amount">$15,000</div>
                            <div class="financial-label">Total Received</div>
                        </div>
                        <div class="financial-card">
                            <div class="financial-amount">$18,500</div>
                            <div class="financial-label">Total Payments</div>
                        </div>
                        <div class="financial-card">
                            <div class="financial-amount">$2,300</div>
                            <div class="financial-label">Current Balance</div>
                        </div>
                        <div class="financial-card">
                            <div class="financial-amount">24</div>
                            <div class="financial-label">Total Transactions</div>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3 class="section-title">📋 Recent Transactions</h3>
                    <div style="max-height: 400px; overflow-y: auto;" id="transactionsList">
                        
                        <div class="transaction-item">
                            <div class="transaction-header">
                                <div>
                                    <div style="font-weight: 600; color: #e2e8f0;">Scholarship Disbursement</div>
                                    <div class="transaction-date">March 15, 2025</div>
                                </div>
                                <div class="transaction-amount">+$5,000.00</div>
                            </div>
                            <div class="transaction-details">
                                <div><strong>Reference:</strong> SCH-2025-001</div>
                                <div><strong>Status:</strong> <span style="color: #16a085;">Completed</span></div>
                                <div><strong>Method:</strong> Direct Deposit</div>
                                <div><strong>Account:</strong> Student Account</div>
                            </div>
                        </div>

                        <div class="transaction-item">
                            <div class="transaction-header">
                                <div>
                                    <div style="font-weight: 600; color: #e2e8f0;">Tuition Payment</div>
                                    <div class="transaction-date">March 10, 2025</div>
                                </div>
                                <div class="transaction-amount" style="color: #e74c3c;">-$6,250.00</div>
                            </div>
                            <div class="transaction-details">
                                <div><strong>Reference:</strong> TUI-2025-SPR</div>
                                <div><strong>Status:</strong> <span style="color: #16a085;">Completed</span></div>
                                <div><strong>Method:</strong> Auto-Deduct</div>
                                <div><strong>Account:</strong> Student Account</div>
                            </div>
                        </div>

                        <div class="transaction-item">
                            <div class="transaction-header">
                                <div>
                                    <div style="font-weight: 600; color: #e2e8f0;">Fee Assessment</div>
                                    <div class="transaction-date">March 5, 2025</div>
                                </div>
                                <div class="transaction-amount" style="color: #e74c3c;">-$350.00</div>
                            </div>
                            <div class="transaction-details">
                                <div><strong>Reference:</strong> FEE-2025-LAB</div>
                                <div><strong>Status:</strong> <span style="color: #16a085;">Completed</span></div>
                                <div><strong>Method:</strong> Account Charge</div>
                                <div><strong>Account:</strong> Student Account</div>
                            </div>
                        </div>

                        <div class="transaction-item">
                            <div class="transaction-header">
                                <div>
                                    <div style="font-weight: 600; color: #e2e8f0;">Book Allowance</div>
                                    <div class="transaction-date">February 28, 2025</div>
                                </div>
                                <div class="transaction-amount">+$750.00</div>
                            </div>
                            <div class="transaction-details">
                                <div><strong>Reference:</strong> BKS-2025-SPR</div>
                                <div><strong>Status:</strong> <span style="color: #16a085;">Completed</span></div>
                                <div><strong>Method:</strong> Credit</div>
                                <div><strong>Account:</strong> Book Store Credit</div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="viewTransactionDetails()">📄 View Details</button>
                    <button class="btn btn-success" onclick="generateStatement()">📊 Generate Statement</button>
                    <button class="btn btn-warning" onclick="disputeTransaction()">⚠️ Dispute Transaction</button>
                    <button class="btn btn-secondary" onclick="printTransactions()">🖨️ Print</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced Scholarship management functionality
        function createScholarship() {
            const scholarshipName = prompt('Enter scholarship name:');
            if (scholarshipName) {
                const amount = prompt('Enter scholarship amount:');
                const criteria = prompt('Enter eligibility criteria:');
                
                if (amount && criteria) {
                    alert(`✅ Scholarship "${scholarshipName}" created successfully!\n\nAmount: $${amount}\nCriteria: ${criteria}\n\nThe scholarship program is now active and accepting applications.`);
                    location.reload();
                }
            }
        }

        function reviewApplications() {
            document.getElementById('applicationReviewModal').style.display = 'block';
        }

        function processRenewals() {
            document.getElementById('renewalsModal').style.display = 'block';
        }

        function generateReports() {
            document.getElementById('reportsModal').style.display = 'block';
        }

        // Enhanced Modal Functions
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Application Review Functions
        function applyFilters() {
            const status = document.getElementById('statusFilter').value;
            const program = document.getElementById('programFilter').value;
            const gpa = document.getElementById('gpaFilter').value;
            const date = document.getElementById('dateFilter').value;
            
            alert(`🔍 Applying filters:\n• Status: ${status || 'All'}\n• Program: ${program || 'All'}\n• GPA: ${gpa || 'All'}\n• Date: ${date || 'All'}\n\nFiltering applications...`);
            // Implementation would filter the application cards
        }

        function clearFilters() {
            document.getElementById('statusFilter').value = '';
            document.getElementById('programFilter').value = '';
            document.getElementById('gpaFilter').value = '';
            document.getElementById('dateFilter').value = '';
            alert('✨ All filters cleared. Showing all applications.');
        }

        function toggleSelectAll() {
            const selectAll = document.getElementById('selectAll');
            const checkboxes = document.querySelectorAll('.app-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll.checked;
            });
        }

        function bulkApprove() {
            const selected = document.querySelectorAll('.app-checkbox:checked');
            if (selected.length === 0) {
                alert('⚠️ Please select applications to approve.');
                return;
            }
            if (confirm(`✅ Approve ${selected.length} selected applications?\n\nThis action will:\n• Award scholarships to selected students\n• Send approval notifications\n• Update financial records\n• Process payments`)) {
                alert(`🎉 Success! ${selected.length} applications approved.\n\n• Notifications sent to students\n• Financial aid disbursement initiated\n• Academic advisors notified\n• Records updated in system`);
                closeModal('applicationReviewModal');
            }
        }

        function bulkPending() {
            const selected = document.querySelectorAll('.app-checkbox:checked');
            if (selected.length === 0) {
                alert('⚠️ Please select applications to mark as pending.');
                return;
            }
            alert(`⏳ ${selected.length} applications marked as pending review.\n\nStudents will be notified of current status.`);
        }

        function bulkReject() {
            const selected = document.querySelectorAll('.app-checkbox:checked');
            if (selected.length === 0) {
                alert('⚠️ Please select applications to reject.');
                return;
            }
            if (confirm(`❌ Reject ${selected.length} selected applications?\n\nThis action cannot be undone.`)) {
                alert(`📧 ${selected.length} applications rejected.\n\nRejection notifications sent with feedback.`);
            }
        }

        function viewApplication(appId) {
            alert(`📄 Opening detailed application view for ${appId}:\n\n• Personal information\n• Academic transcripts\n• Financial documentation\n• Essays and recommendations\n• Supporting materials\n\nLoading application details...`);
        }

        function approveApplication(appId) {
            if (confirm(`✅ Approve scholarship application ${appId}?\n\nThis will award the scholarship to the student.`)) {
                alert(`🎉 Application ${appId} approved!\n\n• Student notification sent\n• Financial aid processed\n• Academic record updated\n• Scholarship activated`);
            }
        }

        function requestDocuments(appId) {
            const docType = prompt('Which documents are needed?\n\n1. Tax Returns\n2. Bank Statements\n3. Transcripts\n4. Letters of Recommendation\n5. Other\n\nEnter number or specify:');
            if (docType) {
                alert(`📋 Document request sent for application ${appId}.\n\nStudent will be notified via email with:\n• List of required documents\n• Submission deadline\n• Upload instructions\n• Contact information for questions`);
            }
        }

        function rejectApplication(appId) {
            const reason = prompt('Reason for rejection:\n\n1. Insufficient GPA\n2. Incomplete documentation\n3. Does not meet criteria\n4. Budget limitations\n5. Other\n\nEnter number or specify reason:');
            if (reason && confirm(`❌ Reject application ${appId}?\n\nReason: ${reason}\n\nThis action cannot be undone.`)) {
                alert(`📧 Application ${appId} rejected.\n\nRejection notification sent to student with:\n• Reason for rejection\n• Feedback for improvement\n• Information about future opportunities\n• Appeal process details`);
            }
        }

        function contactStudent(appId) {
            alert(`📧 Opening communication center for application ${appId}:\n\n• Send email notification\n• Schedule phone call\n• Request meeting\n• Send text message\n• Create communication log\n\nLaunching communication tools...`);
        }

        // Renewal Functions
        function processEligibleRenewals() {
            if (confirm('✅ Process all 18 eligible renewals?\n\nThis will:\n• Approve all qualifying renewals\n• Send notifications to students\n• Update financial records\n• Schedule next review cycle\n\nTotal amount: $108,000')) {
                alert('🎉 Bulk renewal processing completed!\n\n• 18 scholarships renewed\n• $108,000 total renewed\n• Students notified\n• Next review: Spring 2026\n• Financial disbursement scheduled');
                closeModal('renewalsModal');
            }
        }

        function reviewPendingRenewals() {
            alert('🔍 Opening detailed review for 4 pending renewals:\n\n• GPA exceptions requiring review\n• Special circumstances\n• Appeal requests\n• Documentation needed\n\nLaunching renewal review interface...');
        }

        function sendRenewalNotifications() {
            alert('📧 Sending renewal notifications:\n\n• 18 approval notifications\n• 4 pending review notifications\n• 2 denial notifications\n• Renewal requirement reminders\n\nAll notifications sent successfully!');
        }

        function approveRenewal(studentId) {
            if (confirm(`✅ Approve scholarship renewal for student ${studentId}?\n\nThis will extend the scholarship for another academic year.`)) {
                alert(`🎉 Renewal approved for ${studentId}!\n\n• Scholarship extended\n• Student notified\n• Financial aid updated\n• Academic tracking continued`);
            }
        }

        function viewRenewalDetails(studentId) {
            alert(`📄 Renewal details for student ${studentId}:\n\n• Academic performance history\n• GPA trend analysis\n• Previous scholarship amounts\n• Renewal criteria compliance\n• Financial aid history\n• Communication log\n\nLoading detailed view...`);
        }

        function reviewGPAException(studentId) {
            alert(`🔍 GPA Exception Review for ${studentId}:\n\n• Current GPA vs. requirement\n• Academic improvement plan\n• Extenuating circumstances\n• Advisor recommendations\n• Previous performance\n\nOpening exception review panel...`);
        }

        function contactCoach(studentId) {
            alert(`🏃 Contacting athletic coach for ${studentId}:\n\n• Academic performance discussion\n• Athletic eligibility status\n• Support resource coordination\n• Performance improvement plan\n\nInitiating coach communication...`);
        }

        function denyRenewal(studentId) {
            if (confirm(`❌ Deny scholarship renewal for ${studentId}?\n\nThis will terminate the scholarship.\n\nThis action requires supervisor approval.`)) {
                alert(`📧 Renewal denied for ${studentId}.\n\n• Student notification sent\n• Appeal process information provided\n• Academic support resources offered\n• Financial aid counseling scheduled`);
            }
        }

        function offerProbation(studentId) {
            if (confirm(`⚠️ Place ${studentId} on academic probation?\n\nThis gives the student one semester to improve.`)) {
                alert(`📋 Academic probation initiated for ${studentId}:\n\n• Probationary scholarship awarded\n• Academic improvement plan required\n• Monthly progress reviews scheduled\n• Support services assigned\n• Review date: Fall 2025`);
            }
        }

        function considerIncrease(studentId) {
            const newAmount = prompt(`💰 Current scholarship amount for ${studentId} is eligible for increase.\n\nCurrent: $6,000\nRecommended: $7,500\n\nEnter new amount or press Cancel:`);
            if (newAmount) {
                alert(`✨ Scholarship increased for ${studentId}!\n\n• New amount: $${newAmount}\n• Effective: Fall 2025\n• Student notification sent\n• Budget allocation updated\n• Recognition letter sent`);
            }
        }

        // Report Functions
        function generateReport(reportType) {
            const reports = {
                'utilization': {
                    title: 'Scholarship Utilization Report',
                    content: 'Comprehensive fund allocation analysis',
                    time: '3-5 minutes'
                },
                'performance': {
                    title: 'Recipient Performance Report',
                    content: 'Academic performance and success metrics',
                    time: '2-3 minutes'
                },
                'budget': {
                    title: 'Budget Analysis Report',
                    content: 'Financial forecasts and allocation recommendations',
                    time: '4-6 minutes'
                },
                'compliance': {
                    title: 'Compliance Report',
                    content: 'Regulatory compliance and audit documentation',
                    time: '5-7 minutes'
                },
                'impact': {
                    title: 'Impact Assessment Report',
                    content: 'Program effectiveness and student outcomes',
                    time: '6-8 minutes'
                },
                'demographic': {
                    title: 'Demographic Analysis',
                    content: 'Diversity metrics and equity analysis',
                    time: '3-4 minutes'
                },
                'trends': {
                    title: 'Trends & Forecasting Report',
                    content: 'Historical analysis and predictive modeling',
                    time: '7-10 minutes'
                },
                'custom': {
                    title: 'Custom Report Builder',
                    content: 'User-defined parameters and visualizations',
                    time: '5-15 minutes'
                }
            };

            const report = reports[reportType];
            if (report) {
                if (confirm(`📊 Generate ${report.title}?\n\n${report.content}\n\nEstimated generation time: ${report.time}\n\nProceed with report generation?`)) {
                    alert(`🔄 Generating ${report.title}...\n\n• Collecting data from multiple sources\n• Processing analytics\n• Creating visualizations\n• Formatting document\n\nReport will be available shortly.\nYou'll receive an email notification when complete.`);
                    closeModal('reportsModal');
                }
            }
        }

        function quickReport(reportType) {
            const quickReports = {
                'monthly': 'Monthly Scholarship Summary',
                'top-recipients': 'Top Performing Recipients',
                'overdue': 'Overdue Applications Report',
                'urgent': 'Urgent Actions Required'
            };

            const reportName = quickReports[reportType];
            alert(`⚡ Generating ${reportName}...\n\nQuick report will be ready in 30-60 seconds.\nDownload will start automatically.`);
        }

        function exportPDF() {
            alert('📄 Exporting reports as PDF...\n\n• High-quality formatting\n• Charts and graphs included\n• Professional layout\n• Digital signatures available\n\nPDF export will begin shortly.');
        }

        function exportExcel() {
            alert('📊 Exporting data as Excel spreadsheet...\n\n• Raw data tables\n• Pivot table ready\n• Multiple worksheets\n• Formulas included\n\nExcel file will download automatically.');
        }

        function scheduleEmail() {
            alert('📧 Setting up automated report scheduling...\n\n• Choose recipients\n• Set delivery frequency\n• Select report types\n• Configure notifications\n\nOpening email scheduler...');
        }

        // Recipient Details Functions
        function viewRecipientDetails(studentId, studentName) {
            // Sample data - in a real application, this would fetch from the server
            const recipientData = getRecipientData(studentId, studentName);
            
            // Populate modal with data
            document.getElementById('profileName').textContent = recipientData.name;
            document.getElementById('profileId').textContent = studentId;
            document.getElementById('profileAvatar').textContent = recipientData.name.charAt(0);
            
            // Update profile stats
            document.getElementById('currentGPA').textContent = recipientData.gpa;
            document.getElementById('totalAwarded').textContent = recipientData.totalAwarded;
            document.getElementById('yearsActive').textContent = recipientData.yearsActive;
            document.getElementById('statusBadge').textContent = recipientData.status;
            
            // Update academic information
            document.getElementById('studentMajor').textContent = recipientData.major;
            document.getElementById('studentMinor').textContent = recipientData.minor;
            document.getElementById('yearLevel').textContent = recipientData.yearLevel;
            document.getElementById('expectedGrad').textContent = recipientData.expectedGrad;
            document.getElementById('creditHours').textContent = recipientData.creditHours;
            document.getElementById('academicStanding').textContent = recipientData.academicStanding;
            
            // Update contact information
            document.getElementById('studentEmail').textContent = recipientData.email;
            document.getElementById('studentPhone').textContent = recipientData.phone;
            document.getElementById('emergencyContact').textContent = recipientData.emergencyContact;
            document.getElementById('studentAddress').textContent = recipientData.address;
            document.getElementById('lastContact').textContent = recipientData.lastContact;
            
            // Update financial information
            document.getElementById('totalScholarships').textContent = recipientData.totalScholarships;
            document.getElementById('currentAward').textContent = recipientData.currentAward;
            document.getElementById('remainingNeed').textContent = recipientData.remainingNeed;
            document.getElementById('tuitionBalance').textContent = recipientData.tuitionBalance;
            
            // Show the modal
            document.getElementById('recipientDetailsModal').style.display = 'block';
            
            // Animate charts after modal is shown
            setTimeout(() => {
                animateCharts();
            }, 300);
        }

        function getRecipientData(studentId, studentName) {
            // Mock data generator - would be replaced with actual API call
            const majors = ['Computer Science', 'Biology', 'Mathematics', 'English Literature', 'Business Administration', 'Psychology'];
            const minors = ['Mathematics', 'Philosophy', 'Business', 'Creative Writing', 'Statistics', 'Art History'];
            const years = ['Freshman', 'Sophomore', 'Junior', 'Senior'];
            
            return {
                name: studentName,
                gpa: (3.2 + Math.random() * 0.8).toFixed(2),
                totalAwarded: '$' + (Math.floor(Math.random() * 20000) + 10000).toLocaleString(),
                yearsActive: Math.floor(Math.random() * 4) + 1,
                status: Math.random() > 0.2 ? 'Active' : 'Under Review',
                major: majors[Math.floor(Math.random() * majors.length)],
                minor: minors[Math.floor(Math.random() * minors.length)],
                yearLevel: years[Math.floor(Math.random() * years.length)],
                expectedGrad: 'May ' + (2025 + Math.floor(Math.random() * 3)),
                creditHours: Math.floor(Math.random() * 60 + 30) + '/120',
                academicStanding: Math.random() > 0.15 ? 'Good Standing' : 'Academic Probation',
                email: studentId.toLowerCase() + '@waldorf.edu',
                phone: '(555) ' + Math.floor(Math.random() * 900 + 100) + '-' + Math.floor(Math.random() * 9000 + 1000),
                emergencyContact: 'Parent/Guardian',
                address: Math.floor(Math.random() * 9999 + 100) + ' Main St, City, State',
                lastContact: 'March ' + Math.floor(Math.random() * 28 + 1) + ', 2025',
                totalScholarships: '$' + (Math.floor(Math.random() * 25000) + 15000).toLocaleString(),
                currentAward: '$' + (Math.floor(Math.random() * 8000) + 3000).toLocaleString(),
                remainingNeed: '$' + (Math.floor(Math.random() * 15000) + 5000).toLocaleString(),
                tuitionBalance: '$' + (Math.floor(Math.random() * 20000) + 8000).toLocaleString()
            };
        }

        function animateCharts() {
            const chartFills = document.querySelectorAll('#recipientDetailsModal .chart-fill');
            chartFills.forEach((fill, index) => {
                const currentHeight = fill.style.height;
                fill.style.height = '0%';
                setTimeout(() => {
                    fill.style.height = currentHeight;
                }, 100 * (index + 1));
            });
        }

        // Recipient Action Functions
        function contactRecipient() {
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            const studentEmail = document.getElementById('studentEmail').textContent;
            
            alert(`📧 Opening communication center for ${studentName} (${studentId}):\n\n• Email: ${studentEmail}\n• Phone call scheduling\n• Text message system\n• Meeting request portal\n• Communication history log\n\nLaunching comprehensive communication tools...`);
        }

        function renewScholarship() {
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            const currentGPA = document.getElementById('currentGPA').textContent;
            
            if (confirm(`🔄 Process scholarship renewal for ${studentName}?\n\nStudent ID: ${studentId}\nCurrent GPA: ${currentGPA}\nEligible for renewal based on academic performance\n\nProceed with renewal processing?`)) {
                alert(`✅ Scholarship renewal processed for ${studentName}!\n\n• Renewal application approved\n• Financial aid updated\n• Student notification sent\n• Next review scheduled for Fall 2025\n• Academic advisor notified\n\nRenewal processing completed successfully.`);
                closeModal('recipientDetailsModal');
            }
        }

        function scheduleReview() {
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            
            const reviewType = prompt(`📅 Schedule review for ${studentName} (${studentId}):\n\n1. Academic Performance Review\n2. Financial Need Assessment\n3. Scholarship Compliance Check\n4. Mid-Semester Check-in\n5. Graduation Planning Session\n\nEnter number (1-5) or type custom review:`);
            
            if (reviewType) {
                const reviewTypes = {
                    '1': 'Academic Performance Review',
                    '2': 'Financial Need Assessment',
                    '3': 'Scholarship Compliance Check',
                    '4': 'Mid-Semester Check-in',
                    '5': 'Graduation Planning Session'
                };
                
                const selectedReview = reviewTypes[reviewType] || reviewType;
                alert(`📅 Review scheduled for ${studentName}!\n\nReview Type: ${selectedReview}\nScheduled Date: Next available appointment\nLocation: Financial Aid Office\nDuration: 30-45 minutes\n\n• Calendar invitation sent\n• Reminder notifications set\n• Required documents listed\n• Advisor assigned`);
            }
        }

        function generateRecipientReport() {
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            
            if (confirm(`📊 Generate comprehensive report for ${studentName}?\n\nThis report will include:\n• Complete academic history\n• Scholarship award timeline\n• Financial aid summary\n• Compliance status\n• Performance analytics\n• Recommendations\n\nEstimated generation time: 2-3 minutes\n\nGenerate full recipient report?`)) {
                alert(`🔄 Generating comprehensive recipient report for ${studentName} (${studentId})...\n\n• Collecting academic records\n• Compiling financial data\n• Analyzing performance trends\n• Creating visualizations\n• Formatting professional document\n\nReport will be available shortly.\nDownload link will be sent to your email.`);
                closeModal('recipientDetailsModal');
            }
        }

        function editRecipientDetails() {
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            
            alert(`✏️ Opening edit interface for ${studentName} (${studentId}):\n\n• Personal information editor\n• Contact details updater\n• Academic record modifications\n• Financial aid adjustments\n• Status change options\n• Document upload portal\n\nLaunching comprehensive edit tools...\n\nNote: All changes require supervisor approval.`);
        }

        function viewTransactionHistory() {
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            
            alert(`💳 Loading transaction history for ${studentName} (${studentId}):\n\n• Scholarship disbursements\n• Tuition payments\n• Fee assessments\n• Refund processing\n• Payment plan details\n• Financial aid adjustments\n\nOpening detailed financial transaction viewer...\n\nAll transactions are tracked and auditable.`);
        }

        function editScholarship(name) {
            alert(`📝 Editing scholarship: ${name}\n\nAvailable options:\n• Modify award amount\n• Update eligibility criteria\n• Change application deadlines\n• Adjust recipient limits\n\nOpening scholarship editor...`);
        }

        function viewRecipients(name) {
            alert(`👥 Recipients for ${name}:\n\n• Current recipients: See detailed list\n• Academic performance tracking\n• Renewal status monitoring\n• Communication history\n\nOpening recipient management interface...`);
        }

        function manageProgramBudget(program) {
            alert(`💰 Managing budget for ${program}:\n\n• Current allocation review\n• Spending analysis\n• Forecast projections\n• Budget adjustment tools\n\nOpening budget management tools...`);
        }

        function viewProgramDetails(program) {
            alert(`📊 Program details for ${program}:\n\n• Historical performance data\n• Recipient outcomes\n• Impact assessment\n• Success metrics\n\nOpening detailed program analytics...`);
        }

        // Search and filter functionality
        function filterScholarships(searchTerm) {
            const table = document.getElementById('scholarshipTable');
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 1; i < rows.length; i++) {
                const nameCell = rows[i].getElementsByTagName('td')[0];
                if (nameCell.textContent.toLowerCase().includes(searchTerm.toLowerCase())) {
                    rows[i].style.display = '';
                } else {
                    rows[i].style.display = 'none';
                }
            }
        }

        function filterByStatus(status) {
            const table = document.getElementById('scholarshipTable');
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 1; i < rows.length; i++) {
                if (status === '' || rows[i].getAttribute('data-status') === status) {
                    rows[i].style.display = '';
                } else {
                    rows[i].style.display = 'none';
                }
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎓 Scholarship Management System initialized');
            
            // Animate progress bars
            setTimeout(() => {
                document.querySelectorAll('.progress-fill').forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 500);
        });

        // Enhanced Action Button Functions
        function openCommunicationCenter() {
            const studentName = document.getElementById('profileName').textContent;
            const studentEmail = document.getElementById('studentEmail').textContent;
            
            // Populate communication center with student data
            document.getElementById('communicationCenterModal').style.display = 'block';
        }

        function openRenewalProcessor() {
            const studentName = document.getElementById('profileName').textContent;
            const currentGPA = document.getElementById('currentGPA').textContent;
            
            // Populate renewal processor with current data
            document.getElementById('renewalProcessorModal').style.display = 'block';
        }

        function openScheduleReview() {
            document.getElementById('scheduleReviewModal').style.display = 'block';
        }

        function openReportGenerator() {
            document.getElementById('reportGeneratorModal').style.display = 'block';
        }

        function openStudentEditor() {
            // Populate editor with current student data
            const studentName = document.getElementById('profileName').textContent;
            const studentId = document.getElementById('profileId').textContent;
            const studentEmail = document.getElementById('studentEmail').textContent;
            const studentPhone = document.getElementById('studentPhone').textContent;
            
            document.getElementById('editFullName').value = studentName;
            document.getElementById('editStudentId').value = studentId;
            document.getElementById('editEmail').value = studentEmail;
            document.getElementById('editPhone').value = studentPhone;
            
            document.getElementById('studentEditorModal').style.display = 'block';
        }

        function openTransactionHistory() {
            document.getElementById('transactionHistoryModal').style.display = 'block';
        }

        // Communication Center Functions
        function sendEmail() {
            const studentName = document.getElementById('profileName').textContent;
            const studentEmail = document.getElementById('studentEmail').textContent;
            
            if (confirm(`📧 Send email to ${studentName}?\n\nRecipient: ${studentEmail}\n\nThis will open the email composition interface with pre-filled student information.`)) {
                alert(`✅ Email composition opened for ${studentName}\n\n• Recipient auto-filled\n• Student context added\n• Templates available\n• Send tracking enabled\n\nEmail interface launching...`);
                closeModal('communicationCenterModal');
            }
        }

        function makePhoneCall() {
            const studentName = document.getElementById('profileName').textContent;
            const studentPhone = document.getElementById('studentPhone').textContent;
            
            if (confirm(`📞 Initiate phone call to ${studentName}?\n\nNumber: ${studentPhone}\n\nThis will:\n• Log the call attempt\n• Open call management interface\n• Enable call recording (if approved)\n• Track communication history`)) {
                alert(`☎️ Phone call initiated to ${studentName}\n\n• Call logged in system\n• Communication tracked\n• Call interface opened\n• Follow-up reminder set\n\nDialing ${studentPhone}...`);
                closeModal('communicationCenterModal');
            }
        }

        function sendTextMessage() {
            const studentName = document.getElementById('profileName').textContent;
            const studentPhone = document.getElementById('studentPhone').textContent;
            
            const message = prompt(`💬 Send SMS to ${studentName} (${studentPhone}):\n\nEnter your message:`);
            if (message) {
                alert(`📱 SMS sent to ${studentName}\n\nMessage: "${message}"\nTo: ${studentPhone}\n\n• Delivery confirmation pending\n• Response tracking enabled\n• Communication logged\n• Follow-up scheduled`);
                closeModal('communicationCenterModal');
            }
        }

        function scheduleMeeting() {
            const studentName = document.getElementById('profileName').textContent;
            
            alert(`🤝 Opening meeting scheduler for ${studentName}\n\n• Available time slots loading\n• Calendar integration active\n• Meeting types available:\n  - In-person consultation\n  - Virtual meeting\n  - Phone consultation\n  - Group session\n\nScheduler interface launching...`);
            closeModal('communicationCenterModal');
        }

        function useTemplate(templateType) {
            const templates = {
                'renewal_reminder': 'Scholarship Renewal Reminder',
                'congratulations': 'Congratulations Message',
                'document_request': 'Document Request Notice',
                'urgent_action': 'Urgent Action Required Alert'
            };
            
            const templateName = templates[templateType];
            alert(`📝 Loading template: ${templateName}\n\n• Template populated\n• Student information merged\n• Customization options available\n• Send options ready\n\nTemplate editor opening...`);
        }

        // Renewal Processor Functions
        function approveRenewalFinal() {
            const studentName = document.getElementById('profileName').textContent;
            const renewalAmount = document.getElementById('renewalAmount').value;
            const effectiveSemester = document.getElementById('effectiveSemester').value;
            const notes = document.getElementById('renewalNotes').value;
            
            if (confirm(`✅ Approve scholarship renewal for ${studentName}?\n\nAmount: ${renewalAmount}\nSemester: ${effectiveSemester}\n\nThis action will:\n• Process the renewal immediately\n• Update financial aid records\n• Send approval notification\n• Schedule next review cycle`)) {
                alert(`🎉 Scholarship renewal approved for ${studentName}!\n\n• Amount: ${renewalAmount}\n• Effective: ${effectiveSemester}\n• Student notification sent\n• Financial aid updated\n• Academic advisor notified\n• Next review: Fall 2026\n\nRenewal processing completed successfully.`);
                closeModal('renewalProcessorModal');
                closeModal('recipientDetailsModal');
            }
        }

        function requestAdditionalInfo() {
            const studentName = document.getElementById('profileName').textContent;
            const infoType = prompt(`📋 Request additional information from ${studentName}:\n\n1. Updated transcript\n2. Financial documents\n3. Community service verification\n4. Academic reference letter\n5. Other\n\nEnter number or specify:`);
            
            if (infoType) {
                alert(`📨 Information request sent to ${studentName}\n\n• Request type logged\n• Student notification sent\n• Deadline set (14 days)\n• Follow-up reminder scheduled\n• Processing status: Pending\n\nStudent will receive detailed instructions via email.`);
                closeModal('renewalProcessorModal');
            }
        }

        function denyRenewalFinal() {
            const studentName = document.getElementById('profileName').textContent;
            const reason = prompt(`❌ Reason for denying renewal for ${studentName}:\n\n1. GPA below requirement\n2. Insufficient credit hours\n3. Missing documentation\n4. Academic probation\n5. Other\n\nEnter number or specify reason:`);
            
            if (reason && confirm(`⚠️ Confirm renewal denial for ${studentName}?\n\nReason: ${reason}\n\nThis action will:\n• Deny the renewal application\n• Send detailed explanation\n• Provide appeal information\n• Offer alternative aid options\n\nThis action requires supervisor approval.`)) {
                alert(`📧 Renewal denial processed for ${studentName}\n\n• Denial notification sent\n• Reason documented\n• Appeal process information provided\n• Alternative aid options included\n• Academic advisor notified\n• Supervisor approval pending\n\nStudent support resources activated.`);
                closeModal('renewalProcessorModal');
            }
        }

        // Schedule Review Functions
        function selectReviewType(element, type) {
            // Remove selection from other cards
            document.querySelectorAll('.review-type-card').forEach(card => {
                card.classList.remove('selected');
            });
            // Add selection to clicked card
            element.classList.add('selected');
        }

        function selectTimeSlot(element, time) {
            // Remove selection from other slots
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            // Add selection to clicked slot
            element.classList.add('selected');
        }

        function previousWeek() {
            alert('📅 Loading previous week availability...\n\n• Checking calendar conflicts\n• Updating available time slots\n• Refreshing staff schedules\n\nPrevious week loaded.');
        }

        function nextWeek() {
            alert('📅 Loading next week availability...\n\n• Checking calendar conflicts\n• Updating available time slots\n• Refreshing staff schedules\n\nNext week loaded.');
        }

        function scheduleReviewAppointment() {
            const selectedReview = document.querySelector('.review-type-card.selected');
            const selectedTime = document.querySelector('.time-slot.selected');
            const location = document.getElementById('meetingLocation').value;
            const priority = document.getElementById('priorityLevel').value;
            const agenda = document.getElementById('reviewAgenda').value;
            
            if (!selectedReview || !selectedTime) {
                alert('⚠️ Please select both a review type and time slot.');
                return;
            }
            
            const studentName = document.getElementById('profileName').textContent;
            const reviewType = selectedReview.querySelector('div:nth-child(2)').textContent;
            const timeSlot = selectedTime.textContent;
            
            if (confirm(`📅 Schedule ${reviewType} for ${studentName}?\n\nTime: ${timeSlot}\nLocation: ${location}\nPriority: ${priority}\n\nConfirm appointment?`)) {
                alert(`✅ Review appointment scheduled!\n\n• Student: ${studentName}\n• Type: ${reviewType}\n• Time: ${timeSlot}\n• Location: ${location}\n• Priority: ${priority}\n\n• Calendar invitation sent\n• Reminder notifications set\n• Preparation materials sent\n• Staff notified\n\nAppointment confirmed and logged.`);
                closeModal('scheduleReviewModal');
            }
        }

        // Report Generator Functions
        function updateReportOptions() {
            const reportType = document.getElementById('reportType').value;
            // In a real implementation, this would update available options based on report type
            console.log('Report type changed to:', reportType);
        }

        function generateStudentReport() {
            const reportType = document.getElementById('reportType').value;
            const format = document.getElementById('reportFormat').value;
            const dateRange = document.getElementById('dateRange').value;
            const graphics = document.getElementById('includeGraphics').value;
            const emailCopy = document.getElementById('emailCopy').value;
            const privacy = document.getElementById('privacyLevel').value;
            const notes = document.getElementById('reportNotes').value;
            
            // Check selected sections
            const sections = [];
            document.querySelectorAll('#reportGeneratorModal input[type="checkbox"]:checked').forEach(checkbox => {
                sections.push(checkbox.nextElementSibling.textContent);
            });
            
            if (confirm(`📊 Generate ${reportType} report?\n\nFormat: ${format}\nSections: ${sections.length} selected\nPrivacy: ${privacy}\n\nEstimated generation time: 2-3 minutes\n\nProceed with report generation?`)) {
                alert(`🔄 Generating comprehensive report...\n\n• Report type: ${reportType}\n• Format: ${format}\n• Date range: ${dateRange}\n• Sections: ${sections.length}\n• Graphics: ${graphics}\n• Privacy level: ${privacy}\n\n• Data collection in progress\n• Analysis running\n• Formatting document\n• Quality check pending\n\nReport will be available shortly.\nDownload link will be sent to your email.`);
                closeModal('reportGeneratorModal');
            }
        }

        function previewReport() {
            alert('👁️ Generating report preview...\n\n• Creating sample pages\n• Applying formatting\n• Including selected sections\n• Generating preview graphics\n\nPreview will open in new window in 10-15 seconds.');
        }

        // Student Editor Functions
        function saveStudentChanges() {
            const changes = [];
            const fields = [
                {id: 'editFullName', label: 'Full Name'},
                {id: 'editEmail', label: 'Email'},
                {id: 'editPhone', label: 'Phone'},
                {id: 'editMajor', label: 'Major'},
                {id: 'editMinor', label: 'Minor'},
                {id: 'editYearLevel', label: 'Year Level'},
                {id: 'editAwardAmount', label: 'Award Amount'},
                {id: 'editNeedLevel', label: 'Need Level'}
            ];
            
            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (element && element.value) {
                    changes.push(`${field.label}: ${element.value}`);
                }
            });
            
            const reason = document.getElementById('editChangeReason').value;
            
            if (changes.length === 0) {
                alert('⚠️ No changes detected. Please modify at least one field.');
                return;
            }
            
            if (!reason) {
                alert('⚠️ Please provide a reason for these changes.');
                return;
            }
            
            if (confirm(`💾 Save changes to student record?\n\nChanges (${changes.length}):\n${changes.slice(0, 3).join('\n')}${changes.length > 3 ? '\n...and more' : ''}\n\nReason: ${reason}\n\nNote: Changes require supervisor approval.`)) {
                alert(`✅ Student changes saved!\n\n• ${changes.length} fields updated\n• Audit trail created\n• Supervisor approval requested\n• Student notification pending\n• Backup created\n\nChanges are pending approval and will be applied once reviewed.`);
                closeModal('studentEditorModal');
            }
        }

        function requestApproval() {
            const studentName = document.getElementById('editFullName').value || document.getElementById('profileName').textContent;
            alert(`✅ Approval request submitted for ${studentName}\n\n• Supervisor notified\n• Priority: Standard\n• Expected review time: 24-48 hours\n• Email notification sent\n• Tracking ID: APR-2025-001\n\nYou will be notified when the approval is processed.`);
        }

        function resetForm() {
            if (confirm('🔄 Reset all form fields?\n\nThis will clear all changes and restore original values.')) {
                // Reset all form fields
                document.querySelectorAll('#studentEditorModal input, #studentEditorModal select, #studentEditorModal textarea').forEach(field => {
                    if (field.type === 'checkbox') {
                        field.checked = false;
                    } else {
                        field.value = '';
                    }
                });
                alert('🔄 Form reset to original values.');
            }
        }

        // Transaction History Functions
        function applyTransactionFilters() {
            const type = document.getElementById('transactionTypeFilter').value;
            const dateRange = document.getElementById('transactionDateFilter').value;
            const amountRange = document.getElementById('amountRangeFilter').value;
            const status = document.getElementById('statusFilter').value;
            
            alert(`🔍 Applying transaction filters...\n\n• Type: ${type || 'All'}\n• Date: ${dateRange || 'All'}\n• Amount: ${amountRange || 'All'}\n• Status: ${status || 'All'}\n\nFiltering transactions and updating display...`);
        }

        function clearTransactionFilters() {
            document.getElementById('transactionTypeFilter').value = '';
            document.getElementById('transactionDateFilter').value = 'all';
            document.getElementById('amountRangeFilter').value = '';
            document.getElementById('statusFilter').value = '';
            alert('✨ All transaction filters cleared. Showing all transactions.');
        }

        function exportTransactions() {
            if (confirm('📊 Export transaction data?\n\nThis will create a detailed spreadsheet with:\n• All transaction records\n• Applied filters\n• Summary statistics\n• Account information\n\nExport to Excel format?')) {
                alert('📊 Exporting transaction data...\n\n• Collecting transaction records\n• Applying current filters\n• Formatting spreadsheet\n• Adding summary sheets\n• Generating charts\n\nExport will download automatically when complete.');
            }
        }

        function viewTransactionDetails() {
            alert('📄 Opening detailed transaction viewer...\n\n• Individual transaction analysis\n• Payment method details\n• Authorization information\n• Related transactions\n• Dispute history\n• Supporting documents\n\nDetailed view launching...');
        }

        function generateStatement() {
            if (confirm('📊 Generate account statement?\n\nThis will create a comprehensive statement including:\n• All transactions in selected period\n• Running balance calculations\n• Summary totals\n• Official letterhead formatting\n\nGenerate statement?')) {
                alert('📋 Generating official account statement...\n\n• Collecting transaction data\n• Calculating balances\n• Applying official formatting\n• Including institutional details\n• Adding security features\n\nStatement will be available for download shortly.');
            }
        }

        function disputeTransaction() {
            const reason = prompt('⚠️ Dispute transaction reason:\n\n1. Unauthorized charge\n2. Incorrect amount\n3. Duplicate transaction\n4. Service not received\n5. Other\n\nEnter number or specify reason:');
            
            if (reason) {
                alert(`⚠️ Transaction dispute initiated\n\n• Dispute reason: ${reason}\n• Case number: DSP-2025-001\n• Investigation timeline: 10 business days\n• Hold placed on disputed amount\n• Documentation request sent\n\nDispute tracking information sent via email.`);
            }
        }

        function printTransactions() {
            alert('🖨️ Preparing transaction history for printing...\n\n• Formatting for print layout\n• Including summary information\n• Optimizing page breaks\n• Adding header/footer details\n\nPrint dialog will open shortly.');
        }

        // Close modal when clicking outside of it
        window.addEventListener('click', function(event) {
            const modals = [
                'applicationReviewModal', 'renewalsModal', 'reportsModal', 'recipientDetailsModal',
                'communicationCenterModal', 'renewalProcessorModal', 'scheduleReviewModal',
                'reportGeneratorModal', 'studentEditorModal', 'transactionHistoryModal'
            ];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html> 